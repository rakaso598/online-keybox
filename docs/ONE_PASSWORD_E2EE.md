# 단일 비밀번호 기반 End-to-End 암호화(E2EE) 적용 내역

## 왜? (구현 목적)
- 사용자가 박스에 접근할 때 한 번만 비밀번호를 입력하면, 인증과 내용 암호화/복호화가 모두 자동으로 처리되는 자연스러운 UX 제공
- 비밀번호를 여러 번 입력하거나, 별도의 암호화 키를 관리할 필요 없이 보안성과 편의성을 동시에 달성
- 실제로는 인증(bcrypt)과 암호화(키 파생)를 분리하지만, 사용자 경험은 단일 비밀번호만 입력하는 구조로 단순화

## 무엇을? (구현 목표)
- 박스에 접근(열기)할 때 입력한 비밀번호를 상태로 저장
- 인증(bcrypt 해시 비교)과 암호화/복호화(키 파생, AES-GCM)를 모두 이 비밀번호로 처리
- 박스 내용 저장/수정/복호화 시 추가 입력 없이 자동 처리
- 박스 모달을 닫으면 비밀번호 상태도 초기화하여 보안성 유지

## 어떻게? (구현 방법)
- `handlePasswordSubmit`에서 비밀번호를 상태로 저장(setBoxPassword)
- 박스 내용 저장/수정/복호화 시 이 상태값을 사용해 암호화/복호화 수행
- 박스 모달을 닫을 때 비밀번호 상태를 초기화하여, 다른 박스 접근 시 재입력 필요
- 사용자는 한 번만 비밀번호를 입력하면 되고, 내부적으로 인증과 암호화/복호화가 모두 처리됨

---

> 이 구조는 실제 보안 서비스의 기본 원리를 따르며, UX와 보안성을 모두 고려한 설계입니다.
