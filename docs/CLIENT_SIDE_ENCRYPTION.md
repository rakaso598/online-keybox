# 박스 내용 클라이언트 암호화(End-to-End Encryption) 적용 내역

## 1. 왜 구현했는가? (구현 목적)
- 박스 내부의 민감한 데이터(메모, 개인키 등)가 서버/DB에 평문으로 저장되는 보안 한계를 극복하기 위함
- 운영자/서버/DB가 평문 데이터를 볼 수 없도록, 사용자의 비밀번호로만 복호화 가능한 구조를 만들기 위함
- 사용자는 기존과 동일하게 비밀번호만 입력, 내부적으로는 자동으로 암호화/복호화가 적용되는 UX 제공

## 2. 어떻게 구현했는가? (구현 방법)
- **Web Crypto API**를 사용하여 브라우저에서 AES-GCM 대칭키 암호화 적용
- 사용자가 입력한 박스 비밀번호에서 PBKDF2로 암호화 키 파생
- 박스 내용 저장 시: 클라이언트에서 암호화 → 암호문을 서버/DB에 저장
- 박스 내용 읽기 시: 클라이언트에서 암호문을 복호화 → 평문 표시
- 암호화/복호화에 필요한 salt, iv(초기화 벡터)는 암호문과 함께 저장
- 서버/운영자는 암호문만 보관, 평문 복원 불가

## 3. 무엇을 구현했는가? (구현 목표)
- 사용자는 비밀번호만 입력, 별도의 키 관리 불필요
- DB에는 암호문만 저장, 평문 노출 없음
- 올바른 비밀번호로만 복호화 가능, 비밀번호 분실 시 복구 불가
- 암호화/복호화 로직은 모두 클라이언트(브라우저)에서 처리
- 실제 민감정보 보호에 한 걸음 더 가까운 구조

---

> 이 구조는 상용 서비스 수준의 보안은 아니지만, 학습/실습/데모 용도로 End-to-End Encryption의 원리를 체험할 수 있습니다.
